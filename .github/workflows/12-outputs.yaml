name: 12 - Working with Ouputs

on:
    workflow_dispatch:
         inputs:
             building-status:
                     type: choice
                     options:
                       - success
                       - failure
                     default: success
  
jobs:
    build:
         runs-on: ubuntu-latest
         outputs:
             result: ${{ steps.build.outputs.result }}
             output1: ${{steps.build.outputs.output1}}
         steps:
             - name: Build
               id: build
               run: |
                 echo "$GITHUB_OUTPUT" 
                 echo "result=${{inputs.building-status}}" >> "$GITHUB_OUTPUT"
                 echo "output1=value1" >> "$GITHUB_OUTPUT"
                 echo "output2=value2" >> "$GITHUB_OUTPUT"
                 cat "$GITHUB_OUTPUT" 
                #After putting it in seprate step it will not impact the above step 
             - name: Step with mistake
               run: |     
                 echo "mistake=true" > $GITHUB_OUTPUT
                 cat "$GITHUB_OUTPUT"
  
    deploy:
         runs-on: ubuntu-latest
         needs: build
         if: ${{needs.build.outputs.result == 'success'}}
         steps:
               - name: Deploy
                 run: echo "Deploying"
               - name: Print Outupts
                 run: |
                  echo "Output 1 : ${{ needs.build.outputs.output1}}"
                 


